<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
</head>
<body>
    <p>线程池分两部分工作线程和IO线程</p>
    <p>task wait会开启线程，ContinueWith不会</p>
    <p>
        TPL：
        1.阻塞问题：检查锁，如果某个线程内的业务比较耗时就不要交由线程池管理。
        2.内存和CPU占用情况：任务队列用ContinueWith方法，尽可能减少task的创建
        3.线程同步问题：共享的变量要加锁
        4.死锁时：检查代码逻辑、设置超时退出、主动退出（取消任务）
    </p>
    <p>
        通信的方式：共享内存、发送消息
        同步的方式：互斥控制：临界区、互斥锁、事件通知：信息量、事件对象
        lock 同一线程内加锁和释放锁
        SemaphoreSlim 跨线程加锁和释放锁
        锁要定义为readonly
    </p>
    <p>线程安全是指多线程的情况下有对并发的处理，加锁了</p>
</body>
</html>
